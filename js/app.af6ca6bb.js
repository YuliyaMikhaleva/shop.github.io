(function(t){function e(e){for(var c,n,s=e[0],d=e[1],i=e[2],p=0,b=[];p<s.length;p++)n=s[p],Object.prototype.hasOwnProperty.call(r,n)&&r[n]&&b.push(r[n][0]),r[n]=0;for(c in d)Object.prototype.hasOwnProperty.call(d,c)&&(t[c]=d[c]);u&&u(e);while(b.length)b.shift()();return o.push.apply(o,i||[]),a()}function a(){for(var t,e=0;e<o.length;e++){for(var a=o[e],c=!0,s=1;s<a.length;s++){var d=a[s];0!==r[d]&&(c=!1)}c&&(o.splice(e--,1),t=n(n.s=a[0]))}return t}var c={},r={app:0},o=[];function n(e){if(c[e])return c[e].exports;var a=c[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=t,n.c=c,n.d=function(t,e,a){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var c in t)n.d(a,c,function(e){return t[e]}.bind(null,c));return a},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/shop.github.io/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],d=s.push.bind(s);s.push=e,s=s.slice();for(var i=0;i<s.length;i++)e(s[i]);var u=d;o.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"4bbd":function(t,e,a){"use strict";a("6665")},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var c=a("7a23");function r(t,e,a,r,o,n){var s=Object(c["w"])("Header"),d=Object(c["w"])("router-view"),i=Object(c["w"])("Footer");return Object(c["p"])(),Object(c["d"])(c["a"],null,[Object(c["g"])(s),Object(c["g"])(d),Object(c["g"])(i)],64)}var o=Object(c["B"])("data-v-369710ac");Object(c["s"])("data-v-369710ac");var n={class:"page-header"},s=Object(c["g"])("img",{src:"img/logo.png",alt:"logo"},null,-1),d={class:"page-header-navbar-txt"},i=Object(c["g"])("a",{class:"page-header-navbar-txt-link",href:"#"},"Products",-1),u=Object(c["g"])("i",{class:"fas fa-shopping-cart cart-button-basket"},null,-1),p={class:"counter"},b=Object(c["g"])("span",{class:"page-header-txt"},"Trekking",-1);Object(c["q"])();var l=o((function(t,e,a,r,l,f){var O=Object(c["w"])("router-link"),j=Object(c["w"])("search"),g=Object(c["w"])("navbar");return Object(c["p"])(),Object(c["d"])("header",n,[Object(c["g"])(g,{class:"page-header-navbar"},{default:o((function(){return[Object(c["g"])(O,{to:"/",class:"page-header-navbar-img"},{default:o((function(){return[s]})),_:1}),Object(c["g"])("div",d,[Object(c["g"])(j,{ref:"search",products:t.products,searchLine:t.searchLine},null,8,["products","searchLine"]),i,Object(c["g"])(O,{to:"Cart",class:"cart-button",type:"button",onClick:e[1]||(e[1]=function(e){return t.isVisibleCart=!t.isVisibleCart})},{default:o((function(){return[u,Object(c["g"])("span",p,Object(c["y"])(f.cartCount),1)]})),_:1})])]})),_:1}),b])})),f={name:"Header",computed:{cartCount:function(){return this.$store.getters.getCart.reduce((function(t,e){return t+e.count}),0)}}};f.render=l,f.__scopeId="data-v-369710ac";var O=f,j=Object(c["B"])("data-v-03b6a4a8");Object(c["s"])("data-v-03b6a4a8");var g={class:"page-footer"},v={class:"page-footer-txt"},m=Object(c["g"])("span",{class:"page-footer-txt-title"},"trekking",-1),h=Object(c["g"])("p",{class:"page-footer-txt-paragraph"},"Наш интернет-магазин предлагает Вам большое количество товаров для трекинга. Выбирайте удобное и качественное снаряжение: Наша одежда - Ваш комфорт.",-1),_=Object(c["e"])('<div class="page-footer-links" data-v-03b6a4a8><div class="page-footer-links-table" data-v-03b6a4a8><a class="page-footer-links-table-col" data-v-03b6a4a8>credits </a><a class="page-footer-links-table-col" data-v-03b6a4a8>privacy </a><a class="page-footer-links-table-col" data-v-03b6a4a8>about </a><a class="page-footer-links-table-col" data-v-03b6a4a8>contact </a></div><p class="page-footer-links-design" data-v-03b6a4a8>Design by gialuca cosetta</p></div>',1);Object(c["q"])();var y=j((function(t,e,a,r,o,n){var s=Object(c["w"])("footerform");return Object(c["p"])(),Object(c["d"])("footer",g,[Object(c["g"])("div",v,[m,h,Object(c["g"])(s)]),_])})),C={name:"Footer"};C.render=y,C.__scopeId="data-v-03b6a4a8";var k=C,w={components:{Header:O,Footer:k},mounted:function(){this.$store.dispatch("loadCatalog"),this.$store.dispatch("loadBasket")}};a("4bbd");w.render=r;var B=w,P=a("6c02"),S={class:"home"};function T(t,e,a,r,o,n){var s=Object(c["w"])("Products");return Object(c["p"])(),Object(c["d"])("div",S,[Object(c["g"])(s)])}var x=Object(c["B"])("data-v-42ca103e");Object(c["s"])("data-v-42ca103e");var I={class:"main-products container"},F={class:"main-products container"};Object(c["q"])();var $=x((function(t,e,a,r,o,n){var s=Object(c["w"])("Card");return Object(c["p"])(),Object(c["d"])("div",I,[Object(c["g"])("div",F,[(Object(c["p"])(!0),Object(c["d"])(c["a"],null,Object(c["v"])(n.catalog,(function(t){return Object(c["p"])(),Object(c["d"])(s,{key:t.id,good:t},null,8,["good"])})),128))])])})),q=Object(c["B"])("data-v-8c480250");Object(c["s"])("data-v-8c480250");var H={class:"main-products-product"},J={class:"main-products-product-name"},L={class:"main-products-product-price"},M=Object(c["g"])("span",null," рублей",-1);Object(c["q"])();var E=q((function(t,e,a,r,o,n){return Object(c["p"])(),Object(c["d"])("div",H,[Object(c["g"])("img",{class:"main-products-product-img",src:a.good.img,alt:"photo",height:"189"},null,8,["src"]),Object(c["g"])("span",J,Object(c["y"])(a.good.product_name),1),Object(c["g"])("span",L,[Object(c["f"])(Object(c["y"])(a.good.price),1),M]),Object(c["g"])("button",{onClick:e[1]||(e[1]=function(){return n.addToCart&&n.addToCart.apply(n,arguments)}),class:"main-products-product-button"},"Добавить в корзину")])})),D={name:"Card",props:["good"],methods:{addToCart:function(){this.$store.dispatch("loadToCart",this.good)}}};D.render=E,D.__scopeId="data-v-8c480250";var N=D,V={name:"Catalog",components:{Card:N},computed:{catalog:function(){return this.$store.getters.getCatalog}}};V.render=$,V.__scopeId="data-v-42ca103e";var R=V,z={name:"Home",components:{Products:R}};z.render=T;var A=z,G=Object(c["B"])("data-v-e9fd0fd2");Object(c["s"])("data-v-e9fd0fd2");var K={class:"home"};Object(c["q"])();var Q=G((function(t,e,a,r,o,n){var s=Object(c["w"])("Products"),d=Object(c["w"])("CartSection");return Object(c["p"])(),Object(c["d"])(c["a"],null,[Object(c["g"])("div",K,[Object(c["g"])(s)]),Object(c["g"])(d)],64)})),U=Object(c["B"])("data-v-7996f9ae");Object(c["s"])("data-v-7996f9ae");var W={class:"cart"},X=Object(c["e"])('<div class="cart_parametrs" data-v-7996f9ae><span class="cart_part" data-v-7996f9ae>Название товара</span><span class="cart_part" data-v-7996f9ae>Количество</span><span class="cart_part" data-v-7996f9ae>Цена за шт.</span><span class="cart_part" data-v-7996f9ae>Итого</span><span class="cart_part" data-v-7996f9ae></span></div>',1),Y=Object(c["g"])("div",{class:"newProducts"},null,-1),Z={class:"cart_summ"},tt=Object(c["f"])("Товаров в корзине на сумму:"),et={class:"basket_summ"},at=Object(c["f"])("рублей");Object(c["q"])();var ct=U((function(t,e,a,r,o,n){var s=Object(c["w"])("BasketItem");return Object(c["p"])(),Object(c["d"])("div",W,[X,(Object(c["p"])(!0),Object(c["d"])(c["a"],null,Object(c["v"])(n.basket,(function(t){return Object(c["p"])(),Object(c["d"])(s,{key:t.id,good:t},null,8,["good"])})),128)),Y,Object(c["g"])("div",Z,[Object(c["g"])("span",null,[tt,Object(c["g"])("span",et,Object(c["y"])(n.totalSumm),1),at])])])})),rt=Object(c["B"])("data-v-06bcbe10");Object(c["s"])("data-v-06bcbe10");var ot={class:"newProducts"},nt={class:"basket-item",id:"{{ good.id_product }}"},st={class:"cart_part"},dt={class:"cart_part"},it={class:"product_number"},ut=Object(c["f"])(" шт."),pt={class:"cart_part"},bt={class:"product_price"},lt=Object(c["f"])(" руб."),ft={class:"cart_part"},Ot={class:"summOfRow product_price"},jt=Object(c["f"])(" руб.");Object(c["q"])();var gt=rt((function(t,e,a,r,o,n){return Object(c["p"])(),Object(c["d"])("div",ot,[Object(c["g"])("div",nt,[Object(c["g"])("span",st,Object(c["y"])(a.good.product_name),1),Object(c["g"])("span",dt,[Object(c["g"])("span",it,Object(c["y"])(a.good.count),1),ut]),Object(c["g"])("span",pt,[Object(c["g"])("span",bt,Object(c["y"])(a.good.price),1),lt]),Object(c["g"])("span",ft,[Object(c["g"])("span",Ot,Object(c["y"])(a.good.finishprice),1),jt]),Object(c["g"])("button",{onClick:e[1]||(e[1]=function(){return n.deleteFromBasket&&n.deleteFromBasket.apply(n,arguments)}),class:"deleteProduct","data-productId":"{{ good.id_product }}"},"Удалить товар")])])})),vt={name:"BasketItem",props:["good"],methods:{deleteFromBasket:function(){this.$store.dispatch("loadFromCart",this.good)}}};vt.render=gt,vt.__scopeId="data-v-06bcbe10";var mt=vt,ht={name:"Basket",components:{BasketItem:mt},computed:{basket:function(){return this.$store.getters.getCart},totalSumm:function(){return this.$store.getters.getCart.reduce((function(t,e){return t+e.finishprice}),0)}}};ht.render=ct,ht.__scopeId="data-v-7996f9ae";var _t=ht,yt={name:"Cart",components:{Products:R,CartSection:_t}};yt.render=Q,yt.__scopeId="data-v-e9fd0fd2";var Ct=yt,kt=[{path:"/",name:"Home",component:A},{path:"/cart",name:"Cart",component:Ct}],wt=Object(P["a"])({history:Object(P["b"])("/shop.github.io/"),routes:kt}),Bt=wt,Pt=a("2909"),St=(a("99af"),a("7db0"),a("a434"),a("d3b7"),a("5502")),Tt=Object(St["a"])({state:{catalog:[],cart:[]},getters:{getCatalog:function(t){return t.catalog},getCart:function(t){return t.cart}},mutations:{setCatalog:function(t,e){t.catalog=[].concat(Object(Pt["a"])(t.catalog),Object(Pt["a"])(e))},setBasket:function(t,e){t.cart=[].concat(Object(Pt["a"])(t.cart),Object(Pt["a"])(e))},addToCart:function(t,e){var a=t.cart.find((function(t){return t.id_product===e.id_product}));if(a)a.count++,a.finishprice=a.count*a.price,console.log(t.cart);else{var c=Object.assign({count:1,finishprice:e.price},e);t.cart.push(c),console.log(t.cart)}},deleteFromCart:function(t,e){if(e.count>1)e.count--,e.finishprice=e.count*e.price,this.totalSumm-=e.price;else{var a=t.cart.find((function(t){return t.id_product===e.id_product}));this.state.cart.splice(t.cart.indexOf(a),1),console.log(t.cart),this.totalSumm-=e.price}}},actions:{loadCatalog:function(t){var e=t.commit;return fetch("api/good").then((function(t){return t.json()})).then((function(t){e("setCatalog",t)}))},loadToCart:function(t,e){var a=t.commit;fetch("/api/cart",{method:"POST",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify(e)}).then(a("addToCart",e))},loadFromCart:function(t,e){var a=t.commit;a("deleteFromCart",e),console.log(e),fetch("/api/cart",{method:"DELETE",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify(e)})},loadBasket:function(t){var e=t.commit;return fetch("/api/cart").then((function(t){return t.json()})).then((function(t){e("setBasket",t)}))}}});Object(c["c"])(B).use(Tt).use(Bt).mount("#app")},6665:function(t,e,a){}});
//# sourceMappingURL=app.af6ca6bb.js.map